---
title:  "Video Card Emulation"
date:   2020-07-13 23:55:40
categories:
- Programming
- 2020 Project
- On-going Project
- TIL
- Computer Science
tags:
- C
- Xcode
- Algorithm
- Grade 12
- Computer Science
---
# Overview
* The goal of this project is to create a emulation software for Video Card

# Planning
## Goal of the project
The ultimate goal of this project is being able to emulate the video card from scratch (from creation of pulse generator to displaying the image file)

# Programming

## Day 1
<a onclick = "this.nextSibling.style.display=(this.nextSibling.style.display=='none')?'block':'none';" href = "javascript:void(0)">
View Code
</a><div style = "DISPLAY : none">
```c
//
//  main.c
//  Video Card Emulation
//
// This Program is Built by assuming the time required for processing is 0.0 Nano Second
//
//  Created by Hongjun Yun on 2020-07-14.
//  Copyright © 2020 Hongjun Yun. All rights reserved.
//

#include <stdio.h>
#include <time.h>

/*Pins on VGA Connector*/
int Pin1_Red, Pin2_Green, Pin3_Blue; //RGB Data pins
int Pin5_GND, Pin6_RGND, Pin7_GGND, Pin8_BGND, Pin10_SGND;// GND Pins for 5V, RGB, and Sync
int Pin4_RES;//Reserved Pin
int Pin9_5V_VDC;// 5V DC Power
int Pin11_ID0;// Monitor ID Bit 0 (optional)
int Pin12_SDA, Pin15_SCL;// DDC Serial Data Line and DDC Data Clock Line
int Pin13_HSync, Pin14_VSync;// Horizontal Sync and Vertical Sync

/*Constants*/
const int NotConnected=-2;
const int Grounded=-1;
const int High_5V_DC=5;

void initialization(){
    Pin5_GND = Pin6_RGND = Pin7_GGND = Pin8_BGND = Pin10_SGND = Grounded;
    Pin4_RES = Pin11_ID0 = Pin12_SDA = NotConnected;
    Pin9_5V_VDC = High_5V_DC;
}

int PulseGenerator_10MHz(){//Need to sleep every 100 nano second
    struct timespec req = {0}, remaining = {0};
    req.tv_sec = 0;
    req.tv_nsec = 1;

    /*struct timespec startx, endx;
    clock_gettime(CLOCK_MONOTONIC, &startx);*/
    if(nanosleep(&req, &remaining)<0){
        printf("\n\tPulse Generator Failure\n");
        return -1;
    }
    /*clock_gettime(CLOCK_MONOTONIC, &endx);
    printf("(%d)(%d)\n",startx.tv_sec,startx.tv_nsec);
    printf("(%d)(%d)\n",endx.tv_sec,endx.tv_nsec);
    printf("\treq: (%d)(%d)\n",req.tv_sec,req.tv_nsec);
    printf("\tremaining(%d)(%d)\n",remaining.tv_sec,remaining.tv_nsec);*/
    return 0;
}

int main(int argc, const char * argv[]) {
    printf("10MHz Pulse Generator\n");
    struct timespec startx, endx;
    clock_gettime(CLOCK_MONOTONIC, &startx);
    for(int i=0;i<1000000;i++){
        PulseGenerator_10MHz();
    }
    clock_gettime(CLOCK_MONOTONIC, &endx);
    printf("(%d)(%d)\n",startx.tv_sec,startx.tv_nsec);
    printf("(%d)(%d)\n",endx.tv_sec,endx.tv_nsec);
    return 0;
}
```
</div>

<a onclick = "this.nextSibling.style.display=(this.nextSibling.style.display=='none')?'block':'none';" href = "javascript:void(0)">
    Canadian School Life
</a><div style = "DISPLAY : none">
  <ul>
    <li>
      <a onclick = "this.nextSibling.style.display=(this.nextSibling.style.display=='none')?'block':'none';" href = "javascript:void(0)">
          Grade 11
      </a><div style = "DISPLAY : none">
        <ul>
          <li><a href = "https://andylang8445.github.io/school%20life/school%20class/school_grade11/2019/04/02/G11_Math/">Grade 11U Math(MCR3U)</a></li>
        </ul>
      </div>
    </li>
    <li>
      <a onclick = "this.nextSibling.style.display=(this.nextSibling.style.display=='none')?'block':'none';" href = "javascript:void(0)">
          Grade 12
      </a><div style = "DISPLAY : none">
        <ul>
          <li><a href = "">Grade 12U Computer Programming(ICS4UI)</a></li>
        </ul>
      </div>
    </li>
    <!--번외 : fast io-->
  </ul>
</div>

# Problems, Bugs and Errors
## Identifier
### 10MHz Pulse Generator
<b>Problem ID: 2020071501</b><br>
For this project, 10MHz pulse generator is needed for setting the correct timing of display rate. However, 10MHz Generator that I built has small delays. Since each pulse has to be generated by every 100 nano second, small delays are reasonable sources of potential problems.

## Ideas to resolve problems
### 10MHz Pulse Generator
<b>Problem ID: 2020071501</b><br>
One possible solution for 10MHz P.G. problem is using multi-thread processing. Multi-thread processing is the method that allows multiple processes to run on the same time. By using this, We can process multiple tasks for each pulse much faster and efficiently.

# Resources
* https://www.youtube.com/watch?v=l7rce6IQDWs
* https://www.youtube.com/watch?v=uqY3FMuMuRo
